# æ•°ç»„

# 1 æœ€å¤§å­æ•°ç»„å’Œï¼ˆ53ï¼‰

[53. æœ€å¤§å­æ•°ç»„å’Œ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/maximum-subarray/)

## 1.1 æš´åŠ›è§£æ³•

æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        int sum(INT_MIN);
        int temp(0);

        for(int i = 0; i < nums.size(); ++i)
        {
            for(int j = i; j < nums.size(); ++j)
            {
                temp += nums.at(j);
                sum = sum > temp ? sum : temp;
            }
            temp = 0;
        }

        return sum;
    }
};
```

## 1.2 åˆ†æ²»

1. å–æ•°ç»„ä¸­å¿ƒç‚¹ä¸ºä¸­å¿ƒï¼›
2. æœ€å¤§å­åºè¦ä¹ˆå…¨åœ¨ä¸­å¿ƒå·¦è¾¹ï¼Œè¦ä¹ˆåœ¨å³è¾¹ï¼Œè¦ä¹ˆè·¨ä¸­å¿ƒï¼›
3. åˆ†ä¸‰ç§æƒ…å†µè¿›è¡Œè€ƒè™‘ è·¨ä¸­å¿ƒçš„æƒ…å†µï¼Œå†åˆ†æ²»æˆä¸­å¿ƒç‚¹å·¦ä¾§å’Œå³ä¾§çš„æœ€å¤§å­åºå’Œé—®é¢˜ã€‚

æ—¶é—´å¤æ‚åº¦ï¼š$O(Nlog(N))$

ç©ºé—´å¤æ‚åº¦ï¼š$O(log(N))$

![image-20230510093433295](figures/image-20230510093433295.png)

```c++
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        return maxSubArrayHelper(nums, 0, nums.size() - 1);
    }

    int maxSubArrayHelper(vector<int>& nums, int left, int right)
    {
        if(left == right)   return nums[left];

        int center = (left + right) / 2;
        int leftMax = maxSubArrayHelper(nums, left, center);
        int rightMax = maxSubArrayHelper(nums, center + 1, right);

        int leftCrossMax = INT_MIN; // åˆå§‹åŒ–ä¸€ä¸ªå€¼
        int leftCrossSum = 0;
        for (int i = center ; i >= left ; i --) 
        {
            leftCrossSum += nums[i];
            leftCrossMax = max(leftCrossSum, leftCrossMax);
        }

        // è®¡ç®—åŒ…å«å³ä¾§å­åºåˆ—æœ€åä¸€ä¸ªå…ƒç´ çš„å­åºåˆ—æœ€å¤§å€¼
        int rightCrossMax = nums[center + 1];
        int rightCrossSum = 0;
        for (int i = center + 1; i <= right ; i ++) 
        {
            rightCrossSum += nums[i];
            rightCrossMax = max(rightCrossSum, rightCrossMax);
        }
        
        int crossMax = leftCrossMax + rightCrossMax;
        return max(crossMax, max(leftMax, rightMax));
    }
};
```

## 1.3 è´ªå¿ƒæ³•

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution
{
public:
    int maxSubArray(vector<int> &nums)
    {
        //ç±»ä¼¼å¯»æ‰¾æœ€å¤§æœ€å°å€¼çš„é¢˜ç›®ï¼Œåˆå§‹å€¼ä¸€å®šè¦å®šä¹‰æˆç†è®ºä¸Šçš„æœ€å°æœ€å¤§å€¼
        int result = INT_MIN;
        int numsSize = int(nums.size());
        int sum = 0;
        for (int i = 0; i < numsSize; i++)
        {
            sum += nums[i];
            result = max(result, sum);
            //å¦‚æœsum < 0ï¼Œé‡æ–°å¼€å§‹æ‰¾å­åºä¸²
            if (sum < 0)
            {
                sum = 0;
            }
        }

        return result;
    }
};
```

## 1.4 åŠ¨æ€è§„åˆ’

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution
{
public:
    int maxSubArray(vector<int> &nums)
    {
        //ç±»ä¼¼å¯»æ‰¾æœ€å¤§æœ€å°å€¼çš„é¢˜ç›®ï¼Œåˆå§‹å€¼ä¸€å®šè¦å®šä¹‰æˆç†è®ºä¸Šçš„æœ€å°æœ€å¤§å€¼
        int result = INT_MIN;
        int numsSize = int(nums.size());

        int sum = nums[0];
        result = nums[0];
        for (int i = 1; i < numsSize; i++)
        {
            sum = max(sum + nums[i], nums[i]);
            result = max(result, sum);
        }

        return result;
    }
};
```

# 2 åŸåœ°ç§»é™¤å…ƒç´ ï¼ˆ27ï¼‰

[27. ç§»é™¤å…ƒç´  - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/remove-element/)

## 2.1 é€šç”¨è§£æ³•ï¼ˆåŒæŒ‡é’ˆï¼‰

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int removeElement(vector<int>& nums, int val) {
        int slow = 0;

        for(int i = 0; i < nums.size(); i++)
        {
            if(nums[i] != val)
            {
                nums[slow++] = nums[i];
            }
        }

        return slow;
    }
};
```

## 2.2 ä¼˜åŒ–åçš„åŒæŒ‡é’ˆ

```c++
class Solution {
public:
    int removeElement(vector<int>& nums, int val) {
        int left = 0, right = nums.size();
        while (left < right) {
            if (nums[left] == val) {
                nums[left] = nums[right - 1];
                right--;
            } else {
                left++;
            }
        }
        return left;
    }
};
```

# 3 åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼ˆ88ï¼‰

[88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/merge-sorted-array/)

## 3.1 STLåº“

```c++
class Solution {
public:
    void merge(vector<int>& nums1, int m, vector<int>& nums2, int n) {
        for(int i = 0; i < n; ++i)  nums1[m + i] = nums2[i];
        sort(nums1.begin(), nums1.begin() + m + n);
    }
};
```

## 3.2 ä»åé¢å¼€å§‹ç¡®å®š

æ—¶é—´å¤æ‚åº¦ï¼š$O(M+N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

å¦‚æœä¸¤ä¸ªæ•°ç»„ä»ç»“å°¾å‘å¼€å¤´ï¼ˆæ•°å­—ä»å¤§åˆ°å°ï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œé‚£ä¹ˆæ¯æ¬¡æŠŠæ¯”è¾ƒä¹‹åçš„æ•°å­—æ”¾ç½®åˆ° nums1 ä¸­çš„åé¢ï¼Œç”±äºåé¢çš„æ•°å­—æœ¬èº«å°±æ˜¯æä¾›å‡ºæ¥çš„å¤šä½™çš„ä½ç½®ï¼Œéƒ½æ˜¯ 0ï¼Œå› æ­¤ä¸éœ€è¦å¯¹ nums1 è¿›è¡Œç§»åŠ¨ã€‚

1. å½“ $m > 0$ å¹¶ä¸” $n > 0 $ æ—¶ï¼Œä»åå‘å‰æ¯”è¾ƒ  $num1[mâˆ’1]$ å’Œ  $nums2[nâˆ’1] $ ï¼š
   - å¦‚æœæ˜¯  $nums1[mâˆ’1]$ å¤§ï¼Œåˆ™æŠŠ   $num1[mâˆ’1]$ æ”¾åˆ° $num1$ çš„ç¬¬ $m+nâˆ’1$ ä½ç½®ï¼Œå¹¶è®© $m-=1$ã€‚
   - å¦‚æœæ˜¯ $nums2[nâˆ’1] $ å¤§ï¼Œåˆ™æŠŠ $nums2[nâˆ’1]$ æ”¾åˆ° $num1$ çš„ç¬¬ $m+nâˆ’1$ ä½ç½®ï¼Œå¹¶è®© $n-=1$ã€‚
2. å½“ä¸Šé¢çš„éå†æ¡ä»¶ç»“æŸçš„æ—¶å€™ï¼Œæ­¤æ—¶ m å’Œ n è‡³å°‘æœ‰ä¸€ä¸ªä¸º 0ã€‚
   - å½“ $m == 0$ æ—¶ï¼Œè¯´æ˜ num1 çš„æ•°å­—æ°å¥½ç”¨å®Œäº†ï¼Œæ­¤æ—¶ nums2 å¯èƒ½è¿˜å‰©å…ƒç´ ï¼Œéœ€è¦å¤åˆ¶åˆ° nums1 çš„å¤´éƒ¨ï¼›
   - å½“ $n == 0$ æ—¶ï¼Œè¯´æ˜ num2 çš„æ•°å­—æ°å¥½ç”¨å®Œäº†ï¼Œæ­¤æ—¶ nums1 å¯èƒ½è¿˜å‰©å…ƒç´ ï¼Œç”±äºå‰©ä½™çš„è¿™äº›å…ƒç´ ä¸€å®šæ˜¯ nums1 å’Œ nums2 ä¸­æœ€å°çš„å…ƒç´ ï¼Œæ‰€ä»¥ä¸ç”¨åŠ¨ï¼Œç›´æ¥ç•™åœ¨åŸåœ°å°±è¡Œã€‚

```c++
class Solution {
public:
    void merge(vector<int>& nums1, int m, vector<int>& nums2, int n) {
        int k = m + n - 1;
        while (m > 0 && n > 0) {
            if (nums1[m - 1] > nums2[n - 1]) {
                nums1[k] = nums1[m - 1];
                m --;
            } else {
                nums1[k] = nums2[n - 1];
                n --;
            }
            k --;
        }
        for (int i = 0; i < n; ++i) {
            nums1[i] = nums2[i];
        }
    }
};
```

## 3.3 ä»å‰é¢å¼€å§‹ç¡®å®šï¼ˆå½’å¹¶æ’åºï¼‰

æ—¶é—´å¤æ‚åº¦ï¼š$O(M+N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(M+N)$

```c++
class Solution {
public:
    void merge(vector<int>& nums1, int m, vector<int>& nums2, int n) {   
        vector<int> temp(nums1);       //åˆå§‹åŒ–mä¸ºnums1çš„æ‹·è´
        int i = 0, j = 0, k = 0;

        while(i <= m-1 && j <= n-1)
        {
            if(temp[i] < nums2[j])                nums1[k++] = temp[i++];
            else               nums1[k++] = nums2[j++];
        }
        while(i <= m-1)         
        {
            nums1[n+i] = temp[i];
            i++;
        }
         while(j <= n-1)
        {
            nums1[m+j] = nums2[j];
            j++;
        }

    }
};
```

# 4 æŸ¥æ‰¾å…±ç”¨å­—ç¬¦ï¼ˆ1002ï¼‰

[1002. æŸ¥æ‰¾å…±ç”¨å­—ç¬¦ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/find-common-characters/)

## 4.1 åˆ©ç”¨æ•°ç»„æ±‚è§£

```c++
class Solution {
public:
    vector<string> commonChars(vector<string>& A) {
        vector<string> out;
        int num[100][26]={0};                  //å»ºç«‹ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæ ‡è®°æ‰€æœ‰å‡ºç°çš„å­—æ¯æ¬¡æ•°
        for(int i =0;i<A.size() ;i++)
            for(int j=0;j<A[i].size();j++)
                num[i][(A[i][j]-'a')]++;
        
        for(int j=0;j<26;j++)                  //å°†æ‰€æœ‰åˆ—çš„æœ€å°å€¼å­˜åˆ°ç¬¬ä¸€è¡Œ
            for(int i=1;i<A.size();i++)
                num[0][j] = min (num[0][j],num[i][j]);
                    
        string str;                           //æŒ‰ç…§ç¬¬ä¸€è¡Œä¿å­˜çš„æ¬¡æ•°è¾“å‡ºç›¸åº”å­—æ¯
        for(int i=0;i<26;i++){
            while(num[0][i]--)
            {
                str.clear();
                str.push_back((char)('a'+i));
                out.push_back(str);
            }
        }
        return out;
    }
};

```

## 4.2 å“ˆå¸Œ

```c++
class Solution {
public:
    vector<string> commonChars(vector<string>& A) {
        vector<string> res;
        vector<unordered_map<char,int>> vum(A.size());
        for(int i = 0;i < A.size();++i)
            for(char c : A[i])
                vum[i][c]++;        // å¯¹åº”keyçš„value++
 
        for(pair<char, int> pair : vum[0])     // å°†æ‰€æœ‰keyçš„valueçš„æœ€å°å€¼é€‰æ‹©å‡ºæ¥æ”¾åœ¨ç¬¬ä¸€ä¸ªå‘é‡ä¸­
        {
            int n = pair.second;
            for(int i = 1;i < vum.size();++i)
                n = min(n,vum[i][pair.first]);
            while(n--) res.push_back(string(1, pair.first));       
        }
        return res;
    }
};
```

# 5 å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ï¼ˆå¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ï¼‰

[724. å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/find-pivot-index/)

## 5.1 æš´åŠ›è§£æ³•

æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int pivotIndex(vector<int>& nums) {
        int middle_index(-1);
        int temp_index(0);

        while(temp_index < nums.size())
        {
            int left_sum(0), right_sum(0);
            for(int i = 0; i < temp_index; ++i)
                left_sum += nums.at(i);
            
            for(int i = temp_index + 1; i < nums.size(); ++i)
                right_sum += nums.at(i);

            if(left_sum == right_sum)   
            {
                middle_index = temp_index;
                return middle_index;
            }

            cout << "left_sum: " << left_sum << endl;
            cout << "right_sum: " << right_sum << endl;

            ++temp_index;
        }

        return middle_index;
    }
};
```

## 5.2 è½¬æ¢æ€æƒ³çš„ç®€å•æ€è·¯ï¼ˆå‰ç¼€å’Œï¼Œç±»ä¼¼æ»‘åŠ¨çª—å£ï¼‰

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int pivotIndex(vector<int>& nums) {
        int sumleft = 0, sumTotal = 0;
        for(int n : nums)   
            sumTotal += n;
        for(int i = 0; i < nums.size(); ++i)
        {
            if(sumleft * 2  == sumTotal - nums[i])  
                return i;       //å¦‚æœiæ­¤æ—¶æ»¡è¶³ä¸­å¿ƒç´¢å¼•è¦æ±‚ï¼Œreturn
            sumleft += nums[i];
        }
        return -1;
    }
};

// å¦ä¸€ç§è§£æ³•ï¼ŒåŸç†ä¸Šæ˜¯ä¸€æ ·çš„
class Solution {
public:
    int pivotIndex(vector<int>& nums) {
        int sumLeft = 0, sumRight = accumulate(nums.begin(), nums.end(), 0);
        for (int i = 0; i < nums.size(); i++) {
            sumRight -= nums[i];
            // è‹¥å·¦ä¾§å…ƒç´ å’Œç­‰äºå³ä¾§å…ƒç´ å’Œï¼Œè¿”å›ä¸­å¿ƒä¸‹æ ‡ i
            if (sumLeft == sumRight)
                return i;
            sumLeft += nums[i];
        }
        return -1;
    }
};
```

# 6 æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°

[å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/)

## <span style="background:#FFFFBB;">6.1 ä½è¿ç®—</span>

**å‚è€ƒé¢˜è§£ï¼š**[å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/solutions/572857/jian-zhi-offer-56-i-shu-zu-zhong-shu-zi-tykom/)

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

1. **éå†æ‰§è¡Œå¼‚æˆ–ï¼š**

   - è®¾æ•´å‹æ•°ç»„ $nums = [a,a,b,b,...,x,y]$ ï¼Œå¯¹ $nums$ ä¸­æ‰€æœ‰æ•°å­—æ‰§è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœä¸º $xâŠ•y$

2. **å¾ªç¯å·¦ç§»è®¡ç®— $m$** ï¼š

   - æ ¹æ®å¼‚æˆ–è¿ç®—å®šä¹‰ï¼Œè‹¥æ•´æ•° $xâŠ•y$ æŸäºŒè¿›åˆ¶ä½ä¸º $1$ ï¼Œåˆ™ $x$ å’Œ $y$ çš„æ­¤äºŒè¿›åˆ¶ä½ä¸€å®šä¸åŒã€‚æ¢è¨€ä¹‹ï¼Œæ‰¾åˆ° $xâŠ•y$ æŸä½ä¸º $1$ çš„äºŒè¿›åˆ¶ä½ï¼Œå³å¯å°†æ•°ç»„ $nums$ æ‹†åˆ†ä¸ºä¸Šè¿°çš„ä¸¤ä¸ªå­æ•°ç»„ã€‚æ ¹æ®ä¸è¿ç®—ç‰¹ç‚¹ï¼Œå¯çŸ¥å¯¹äºä»»æ„æ•´æ•° $a$ æœ‰ï¼š
     - è‹¥ $a \& 0001=1$ï¼Œåˆ™  $a$ çš„ç¬¬ä¸€ä½ä¸º $1$  ï¼›
     - è‹¥ $a \& 0010=1$ï¼Œåˆ™ $a$ çš„ç¬¬äºŒä½ä¸º $1$ ï¼›
     - ä»¥æ­¤ç±»æ¨â€¦â€¦
   - å› æ­¤ï¼Œåˆå§‹åŒ–ä¸€ä¸ªè¾…åŠ©å˜é‡ $m=1$ï¼Œé€šè¿‡ä¸è¿ç®—ä»å³å‘å·¦å¾ªç¯åˆ¤æ–­ï¼Œå¯ è·å–æ•´æ•° $xâŠ•y$é¦–ä½ $1$  ï¼Œè®°å½•äº $m$ ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š

   ```c++
   while(n & m == 0) // m å¾ªç¯å·¦ç§»ä¸€ä½ï¼Œç›´åˆ° z & m ï¼= 0
       m <<= 1
   ```

3. **æ‹†åˆ† $nums$ ä¸ºä¸¤ä¸ªå­æ•°ç»„ï¼›**

4. åˆ†åˆ«éå†ä¸¤ä¸ªå­æ•°ç»„æ‰§è¡Œå¼‚æˆ–ï¼š

   - é€šè¿‡éå†åˆ¤æ–­ $nums$ ä¸­å„æ•°å­—å’Œ $m$ åšä¸è¿ç®—çš„ç»“æœï¼Œå¯å°†æ•°ç»„æ‹†åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ï¼Œå¹¶åˆ†åˆ«å¯¹ä¸¤ä¸ªå­æ•°ç»„éå†æ±‚å¼‚æˆ–ï¼Œåˆ™å¯å¾—åˆ°ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œä»£ç å¦‚ä¸‹ï¼š

   ```c++
   for(int num : nums) {
       if(num & m) x ^= num;   // è‹¥ num & m != 0 , åˆ’åˆ†è‡³å­æ•°ç»„ 1 ï¼Œæ‰§è¡Œéå†å¼‚æˆ–
       else y ^= num;          // è‹¥ num & m == 0 , åˆ’åˆ†è‡³å­æ•°ç»„ 2 ï¼Œæ‰§è¡Œéå†å¼‚æˆ–
   }
   return vector<int> {x, y};  // éå†å¼‚æˆ–å®Œæ¯•ï¼Œè¿”å›åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— x å’Œ y
   ```

5. **è¿”å›å€¼**ï¼šè¿”å›åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— $x, y$ å³å¯ã€‚

```c++
class Solution {
public:
    vector<int> singleNumbers(vector<int>& nums) {
        int x = 0, y = 0, n = 0, mask(0);
        for(int num : nums)             // 1. éå†å¼‚æˆ–
            n ^= num;         
        mask = n ^ (-n);                // 2. è·å–maskï¼ŒåŒºåˆ†åˆ†åˆ«åŒ…å«xå’Œyçš„å­æ•°ç»„
        for(int num : nums) {           // 3. éå† nums åˆ†ç»„
            if(num & mask) x ^= num;    // 4. å½“ num & mask != 0
            else y ^= num;              // 5. å½“ num & mask == 0
        }
        return vector<int> {x, y};      // 6. è¿”å›å‡ºç°ä¸€æ¬¡çš„æ•°å­—
    }
};

```

# 7 æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II  

[å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof/)

## 7.1 å“ˆå¸Œ

```c++
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        unordered_map<int, int> hash;
        for(int i = 0; i < nums.size(); ++i)    ++hash[nums[i]];

        for(auto temp : hash)   if(temp.second == 1)   return temp.first;
        return 0;   // ç»“æœå¿…ç„¶ä¸ä¼šèµ°åˆ°è¿™ä¸€æ­¥
    }
};
```

## 7.2 ä½è¿ç®—

> ğŸ« ğŸ« ğŸ« ğŸ« ğŸ« ğŸ« ğŸ« ï¼Œè¿™åˆ°åº•æ˜¯æ€ä¹ˆç”¨çš„ä½è¿ç®—ï¼Ÿä»€ä¹ˆè„‘å­èƒ½æƒ³åˆ°å•Šï¼Ÿè€Œä¸”æ•ˆç‡è¿˜çœŸçš„nmçš„é«˜ã€‚

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        int ans = 0;
        for(int i = 0; i < 32; ++i){
            int cnt = 0;
            for(int n : nums){
                // n & 1 << i çš„å€¼å¤§äº0å³ä¸ºçœŸ
                if(n & (1 << i)) cnt++;
            }
            // æ„é€ åªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸ªæ•°å­—ï¼Œé‡‡ç”¨å¼‚æˆ–çš„æ–¹æ³•ç”ŸæˆäºŒè¿›åˆ¶ä¸­çš„æ¯ä¸€ä½
            if(cnt % 3 == 1) ans ^= (1 << i);
        }
        return ans;
    }
};
```

# 8 å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—

[å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­— - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/que-shi-de-shu-zi-lcof/)

## 8.1 äºŒåˆ†æ³•

æ—¶é—´å¤æ‚åº¦ï¼š$O(logN)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int missingNumber(vector<int>& nums) {
        int left = 0, right = nums.size();
        while(left < right){
            int mid = (left + right) / 2;
            if(mid == nums[mid]) left = mid + 1;
            else right = mid;
        }
        return left;
    }
};
```

## 8.2 é—®é¢˜è½¬æ¢æ³•

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int missingNumber(vector<int>& nums) {
        int n = nums.size();
        int sum = 0;
        for(int i = 0; i < n; i ++)
            sum += nums[i];
        return n*(n + 1)/2 - sum;
    }
};
```

## 8.3 å“ˆå¸Œæ•°ç»„

```c++
class Solution {
public:
    int missingNumber(vector<int>& nums) {
        int hash[50000]{0};
        for(int i = 0; i < nums.size(); ++i)
        {
            ++hash[nums[i]];
        }
        for(int i = 0; i < nums.size(); ++i)
        {
            if(hash[i] == 0)
            {
                return i;
            }
        }

        return nums.size();
    }
};
```

# 9 æŒ‰å¥‡å¶æ’åºæ•°ç»„

[905. æŒ‰å¥‡å¶æ’åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/sort-array-by-parity/)

## 9.1 æš´åŠ›è§£æ³•

```c++
class Solution {
public:
    vector<int> sortArrayByParity(vector<int>& nums) {
        vector<int> fore_res, back_res;
        for(int i = 0; i < nums.size(); ++i)
        {
            if(nums[i] % 2 == 0)    fore_res.emplace_back(nums[i]);
            else    back_res.emplace_back(nums[i]);
        }

        for(int i = 0; i < back_res.size(); ++i)
        {
            fore_res.emplace_back(back_res[i]);
        }

        return fore_res;
    }
};
```

## 9.2 å·¦å³æŒ‡é’ˆ

```c++
class Solution {
public:
    vector<int> sortArrayByParity(vector<int>& nums) {
        int left = 0, right = nums.size() - 1;

        while(left != right)
        {
            if(nums[left] % 2 != 0)
            {
                swap(nums[left], nums[right]);
                --right;
            }
            else    ++left;
        }

        return nums;
    }
};
```

# 10 å­˜åœ¨é‡å¤å…ƒç´  II

[219. å­˜åœ¨é‡å¤å…ƒç´  II - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/contains-duplicate-ii/)

## 10.1 å“ˆå¸Œè¡¨

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$

```c++
class Solution {
public:
    bool containsNearbyDuplicate(vector<int>& nums, int k) {
        unordered_map<int, int> map;
        int length = nums.size();
        for (int i = 0; i < length; i++) {
            int num = nums[i];
            if (map.count(num) && i - map[num] <= k) {
                return true;
            }
            map[num] = i;
        }
        return false;
    }
};
```

## 10.2 æ»‘åŠ¨çª—å£

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(k)$

```c++
class Solution {
public:
    bool containsNearbyDuplicate(vector<int>& nums, int k) {
        unordered_set<int> s;
        int length = nums.size();
        for (int i = 0; i < length; i++) {
            if (i > k) {
                s.erase(nums[i - k - 1]);   // å°†è¯¥å…ƒç´ ä»æ»‘åŠ¨çª—å£ç§»é™¤ï¼Œä»¥ä¿è¯æ»‘åŠ¨çª—å£æ’å®šå¤§å°
            }
            if (s.count(nums[i])) {         
                return true;
            }
            s.insert(nums[i]);
        }
        return false;
    }
};
```

# 11 æœ‰åºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡25%çš„å…ƒç´ ï¼ˆ1287ï¼‰

[1287. æœ‰åºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡25%çš„å…ƒç´  - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/element-appearing-more-than-25-in-sorted-array/)

## 11.1 å“ˆå¸Œè¡¨

```c++
class Solution {
public:
    int findSpecialInteger(vector<int>& arr) {
        int size = arr.size();
        unordered_map<int, int> hash;
        for(int i = 0; i < size; ++i)
        {
            ++hash[arr[i]];
        }

        auto iter = hash.begin();
        while(iter != hash.end())
        {
            printf("iter%d: %d\r\n", iter->first, iter->second);
            if(iter->second * 100 > size * 25)  return iter->first;
            ++iter;
        }

        return -1;
    }
};
```

## 11.2 å¿«æ…¢æŒ‡é’ˆ

```c++
class Solution {
public:
    int findSpecialInteger(vector<int>& arr) {
        // æœ‰åºæ•°ç»„ï¼Œæ— éœ€sort
        int slow(0), fast(0), size(arr.size());
        while(fast < size)
        {
            if(arr[fast] == arr[slow])
            {
                ++fast;
                if(fast == size)    return arr[slow];       // ä¸€å®šå­˜åœ¨å¯¹åº”æ•´æ•°ï¼Œåˆ°å°¾éƒ¨åˆ™è¿”å›æœ€åçš„å…ƒç´ 
                continue;
            }

            if((fast - slow) * 100 > size * 25)    return arr[slow];
            slow = fast;
        }

        return -1;
    }
};
```

## 11.3 é—®é¢˜è½¬æ¢

> æ€è·¯ç‰›é€¼ï¼šğŸ˜°ğŸ˜°ğŸ˜°ğŸ˜°ğŸ˜°

1. æ•°ç»„æœ‰åºï¼Œä¸”æŸå…ƒç´ å‡ºç°æ¬¡æ•°è¶…è¿‡25%
2. é‚£ä¹ˆå¯¹äºæ­¤å…ƒç´ ç¬¬1æ¬¡å‡ºç°ä½ç½®ï¼ŒåŠ 25%æ•°ç»„é•¿åº¦ï¼Œå¿…å®šä»ä¸ºå®ƒè‡ªèº«

```c++
class Solution {
public:
    int findSpecialInteger(vector<int>& arr) {
        for(int i = 0; i < arr.size(); ++i)
        {
            if(i + arr.size() / 4 < arr.size())
                if(arr[i] == arr[i + arr.size() / 4])   return arr[i];
        }

        return 0;  
    }
};
```

# 12 æœ‰æ•ˆçš„å±±è„‰æ•°ç»„ï¼ˆ941ï¼‰

[941. æœ‰æ•ˆçš„å±±è„‰æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/valid-mountain-array/)

## 12.1 çº¿æ€§æ‰«æï¼ˆåŒæŒ‡é’ˆï¼‰

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    bool validMountainArray(vector<int>& arr) {
        if(arr.size() < 3) return false;
        int slow(0), fast(0);

        for(fast = 0; fast < arr.size() - 1; ++fast)
        {
            if(slow == 0)
            {
                if(arr[fast] < arr[fast + 1])   continue;
                if(arr[fast] > arr[fast + 1])
                {
                    if(fast == 0)   return false;
                    slow = fast;
                    continue;
                }
               
                return false;
            }

            if(slow > 0)
            {
                if(arr[fast] > arr[fast + 1])   continue;
                return false;
            }
        }

        if(slow == 0)  return false;
        return true;
    }
};

// æ¢ä¸€ç§æ›´ç®€æ´çš„å†™æ³•
class Solution {
public:
    bool validMountainArray(vector<int>& arr) {
        int head(0), tail(arr.size() - 1);

        if(arr.size() < 3)  return false;
        for(; head < arr.size() - 1; ++head)
            if(arr[head] >= arr[head + 1])   break;
        for(; tail > 1; --tail)
            if(arr[tail] >= arr[tail - 1])  break;
        
        if(head == tail and head != 0 and tail != arr.size() - 1)    return true;
        return false;
    }
};
```

# 13 æœ€é•¿è¿ç»­é€’å¢åºåˆ—

[674. æœ€é•¿è¿ç»­é€’å¢åºåˆ— - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/longest-continuous-increasing-subsequence/)

## 13.1 åŒæŒ‡é’ˆï¼ˆå¿«æ…¢æŒ‡é’ˆã€å°ºå–æ³•ã€è´ªå¿ƒï¼‰

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int findLengthOfLCIS(vector<int>& nums) {
        int slow(0), fast(0), size(nums.size()), max_size(1);
        
        while(fast < size - 1)
        {                
            if(nums[fast] < nums[fast + 1])
            {
                ++fast;
                max_size = max(max_size, fast - slow + 1);
                continue;
            }
            ++fast;
            slow = fast;
        }

        return max_size;
    }
};

// æ›´ç®€æ´çš„å†™æ³•
class Solution {
public:
    int findLengthOfLCIS(vector<int>& nums) {
        int slow(0), fast(0), size(nums.size()), max_size(1);
        
        while(fast != size)
        {                
            while(fast != size - 1 and nums[fast] < nums[fast + 1])  ++fast;
            max_size = max(max_size, fast - slow + 1);
            slow = ++fast;
        }

        return max_size;
    }
};
```

## 13.2 åŠ¨æ€è§„åˆ’

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$

```c++
class Solution {
public:
    int findLengthOfLCIS(vector<int>& nums) {
        if (nums.size() == 0) return 0;
        int result = 1;
        vector<int> dp(nums.size() ,1);
        for (int i = 0; i < nums.size() - 1; i++) {
            if (nums[i + 1] > nums[i]) { // è¿ç»­è®°å½•
                dp[i + 1] = dp[i] + 1;
            }
            if (dp[i + 1] > result) result = dp[i + 1];
        }
        return result;
    }
};
```

# 14 çˆ¬æ¥¼æ¢¯ï¼ˆ70ï¼‰

[70. çˆ¬æ¥¼æ¢¯ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/climbing-stairs/description/)

## 14.1 é€’å½’+ä¼˜åŒ–

æœ€ç®€å•çš„é€’å½’å†™æ³•å¦‚ä¸‹ï¼š

```c++
class Solution { 
    public int climbStairs(int n) {
        // é€’å½’ç»ˆæ­¢æ¡ä»¶
        if(n <= 2) return n;

        // å½“å‰é€’å½’å±‚çš„é€»è¾‘å¤„ç† åŠ æ³•
        // è¿›å…¥ä¸‹ä¸€å±‚é€’å½’ climbStairs(n - 1) å’Œ climbStairs(n - 2)
        return climbStairs(n - 1) + climbStairs(n - 2);
    }
}
```

æ—¶é—´å¤æ‚åº¦ï¼š$O(2^N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$

æç¤ºè¶…æ—¶ï¼Œè€ƒè™‘åˆ°éƒ¨åˆ†ç»“æœçš„è§£é›†ç›¸åŒï¼Œå› æ­¤å¯ä»¥è€ƒè™‘å°†é‡å¤è®¡ç®—çš„ç»“æœå­˜å…¥å“ˆå¸Œè¡¨ä¸­ï¼Œä»¥é¿å…é‡å¤è®¡ç®—ï¼ˆé‡å¤é€’å½’ï¼‰ã€‚

![image.png](figures/1624713847-TsJPwi-image.png)

```c++
class Solution {
public:
    unordered_map<int, int> hash;
    int climbStairs(int n) {
        if(n < 3)   return n;  

        auto it = hash.find(n);
        if(it != hash.end())
            return it->second;

        int sum = climbStairs(n - 1) + climbStairs(n - 2);
        hash.insert(pair<int, int> (n, sum));
        return sum;
    }
};
```

## 14.2 åŠ¨æ€è§„åˆ’

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$

ç®—æ³•å®ç°æ­¥éª¤ï¼š

1. ç¡®å®š`dp`æ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

   - å®šä¹‰ `dp[i]` ä¸ºçˆ¬ä¸Šç¬¬ `i` çº§å°é˜¶æœ‰å¤šå°‘ç§æ–¹æ¡ˆï¼›
2. ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹
   - å› ä¸ºæ¯æ¬¡åªå¯ä»¥çˆ¬ 1 æˆ–è€… 2 ä¸ªå°é˜¶æ‰€ä»¥ï¼Œçˆ¬ä¸Šå½“å‰å°é˜¶çš„æ–¹æ¡ˆåº”è¯¥æ˜¯å‰é¢ä¸¤ä¸ªçŠ¶æ€çš„æ–¹æ¡ˆçš„å’Œå³ï¼Œ`dp[i]=dp[iâˆ’1]+dp[iâˆ’2]`ã€‚
3. åˆå§‹åŒ–çŠ¶æ€
   - `i=0` çº§å¼€å§‹çˆ¬çš„ï¼Œæ‰€ä»¥ä»ç¬¬ 0 çº§çˆ¬åˆ°ç¬¬ 0 çº§æˆ‘ä»¬å¯ä»¥çœ‹ä½œåªæœ‰ä¸€ç§æ–¹æ¡ˆï¼Œå³ `dp(0)=1`ï¼›
   - `i=1` ä»£è¡¨ä»ç¬¬ 0 çº§åˆ°ç¬¬ 1 çº§ä¹Ÿåªæœ‰ 1 ç§æ–¹æ¡ˆï¼Œä¸€å³çˆ¬ä¸€çº§ï¼Œ`dp(1)=1`ã€‚
4. éå†é¡ºåº
   - ç”±çŠ¶æ€è½¬ç§»æ–¹ç¨‹çŸ¥é“ `dp[i]` æ˜¯ä» `dp[iâˆ’1]` å’Œ `dp[iâˆ’2]` è½¬ç§»è¿‡æ¥æ‰€ä»¥ä»å‰å¾€åéå†ã€‚
5. è¿”å›å€¼
   - å› ä¸ºä¸€å…±è®¡ç®— n é˜¶æ¥¼æ¢¯æœ‰å¤šå°‘æ–¹æ¡ˆï¼Œæ‰€ä»¥è¿”å› `dp[n]`ã€‚

```c++
class Solution {
public:
    /* åŠ¨æ€è§„åˆ’äº”éƒ¨æ›²ï¼š
     * 1.ç¡®å®šdp[i]çš„ä¸‹æ ‡ä»¥åŠdpå€¼çš„å«ä¹‰ï¼š çˆ¬åˆ°ç¬¬iå±‚æ¥¼æ¢¯ï¼Œæœ‰dp[i]ç§æ–¹æ³•ï¼›
     * 2.ç¡®å®šåŠ¨æ€è§„åˆ’çš„é€’æ¨å…¬å¼ï¼šdp[i] = dp[i-1] + dp[i-2];
     * 3.dpæ•°ç»„çš„åˆå§‹åŒ–ï¼šå› ä¸ºæç¤ºä¸­ï¼Œ1<=n<=45 æ‰€ä»¥åˆå§‹åŒ–å€¼ï¼Œdp[1] = 1, dp[2] = 2;
     * 4.ç¡®å®šéå†é¡ºåºï¼šåˆ†æé€’æ¨å…¬å¼å¯çŸ¥å½“å‰å€¼ä¾èµ–å‰ä¸¤ä¸ªå€¼æ¥ç¡®å®šï¼Œæ‰€ä»¥é€’æ¨é¡ºåºåº”è¯¥æ˜¯ä»å‰å¾€åï¼›
     * 5.æ‰“å°dpæ•°ç»„çœ‹è‡ªå·±å†™çš„å¯¹ä¸å¯¹ï¼›
    */
    int climbStairs(int n) {
        if (n <= 1) return n;
        /* å®šä¹‰dpæ•°ç»„ */
        vector<int> dp(n+1);
        /* åˆå§‹åŒ–dpæ•°ç»„ */
        dp[1] = 1;
        dp[2] = 2;
        /* ä»å‰å¾€åéå† */
        for(int i = 3; i <= n; i++) {
            dp[i] = dp[i-1] + dp[i-2];
        }
        return dp[n];
    }
};

// è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œç©ºé—´å¤æ‚åº¦åˆ°äº†O(1)
class Solution {
public:
    int climbStairs(int n) {
        int p = 0, q = 0, r = 1;
        for (int i = 1; i <= n; ++i) {
            p = q; 
            q = r; 
            r = p + q;
        }
        return r;
    }
};
```

## 14.3 çŸ©é˜µå¿«é€Ÿå¹‚

> ğŸ« å®åœ¨ä¸åƒæ˜¯æˆ‘èƒ½æƒ³åˆ°çš„è§£æ³•

å®˜æ–¹é¢˜è§£ï¼š[70. çˆ¬æ¥¼æ¢¯ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/climbing-stairs/solutions/286022/pa-lou-ti-by-leetcode-solution/)

### 3.14.4 é€šé¡¹å…¬å¼

ç”±é€’æ¨å…¬å¼ $f(n)=f(n-1)+f(n-2)$ å†™å‡ºç‰¹å¾æ–¹ç¨‹ï¼š
$$
x^2=x+1
$$
æ±‚å¾—$x_1=\frac{1+\sqrt{5} }{2} $ï¼Œ$x_2=\frac{1-\sqrt{5} }{2} $ï¼Œè®¾é€šè§£ $f\left ( n \right )=c_{1}  x_{1}^{n}+ c_{2} x_{2}^{n} $ï¼Œä»£å…¥åˆå§‹æ¡ä»¶$f\left ( 1 \right )=1$ï¼Œ$f\left ( 2 \right )=1$ï¼Œå¾—$c_{1} =\frac{1}{\sqrt{5} } $ï¼Œ$c_{2} =-\frac{1}{\sqrt{5} } $ï¼Œæ¥ç€æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ªå…¬å¼ç›´æ¥æ±‚ç¬¬ $n$ é¡¹äº†ã€‚

```c++
class Solution {
public:
    int climbStairs(int n) {
        double sqrt5 = sqrt(5);
        double fibn = pow((1 + sqrt5) / 2, n + 1) - pow((1 - sqrt5) / 2, n + 1);
        return (int)round(fibn / sqrt5);
    }
};
```

# 15 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºï¼ˆ121ï¼‰

[121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/)

æ­¤é¢˜ç±»ä¼¼äº[42. æ¥é›¨æ°´ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/trapping-rain-water/)ï¼Œä½†æ­¤é¢˜æ— æ³•ç”¨åŒæŒ‡é’ˆæ±‚è§£ã€‚

## 15.1 æš´åŠ›è§£æ³•

æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

è¶…æ—¶äº†ã€‚

```c
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        if(prices.size() == 1)  return 0;

        int profile = 0;
        for(int i = 0; i < prices.size() - 1; ++i)
            for(int j = i + 1; j < prices.size(); ++j)
                profile = prices[j] - prices[i] > profile ? prices[j] - prices[i] : profile;
        
        return profile;
    }
};
```

## 15.2 åŠ¨æ€è§„åˆ’

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int minprice = INT_MAX;
        int maxprofit = 0;
        for (auto price : prices){
            maxprofit = max(maxprofit, price - minprice);
            minprice = min(minprice, price);
        }
        return maxprofit;
    }
};

// ä¼˜åŒ–ä¸€ä¸‹å†™æ³•
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int min_prices = INT_MAX;
        int result = 0;
        for (int i = 0; i < prices.size(); i++) {
            min_prices = min(min_prices, prices[i]);  // å–æœ€å·¦æœ€å°ä»·æ ¼
            result = max(result, prices[i] - min_prices); // ç›´æ¥å–æœ€å¤§åŒºé—´åˆ©æ¶¦
        }
        return result;
    }
};
```

æˆ–è€…é‡‡ç”¨æ ‡å‡†çš„åŠ¨æ€è§„åˆ’ç»“æ„ï¼š

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$

```c++
// ç‰ˆæœ¬ä¸€
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int len = prices.size();
        if (len == 0) return 0;
        vector<vector<int>> dp(len, vector<int>(2));
        dp[0][0] -= prices[0];
        dp[0][1] = 0;
        for (int i = 1; i < len; i++) {
            dp[i][0] = max(dp[i - 1][0], -prices[i]);
            dp[i][1] = max(dp[i - 1][1], prices[i] + dp[i - 1][0]);
        }
        return dp[len - 1][1];
    }
};
```

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
// ç‰ˆæœ¬äºŒ
int maxProfit(vector<int>& prices) {
    if (prices.size() <= 1) return 0;
    vector<int> diff(prices.size() - 1);
    for (int i = 0; i < prices.size() - 1; ++i) {
        diff[i] = prices[i+1] - prices[i];
    }
    
    int last = 0;
    int profit = last;
    for (int i = 0; i < diff.size(); ++i) {
        last = max(0, last + diff[i]);
        profit = max(profit, last);
    }
    return profit;
}
```

# 16 å¤„ç†ç”¨æ—¶æœ€é•¿çš„é‚£ä¸ªä»»åŠ¡çš„å‘˜å·¥ï¼ˆ2432ï¼‰

[2432. å¤„ç†ç”¨æ—¶æœ€é•¿çš„é‚£ä¸ªä»»åŠ¡çš„å‘˜å·¥ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/the-employee-that-worked-on-the-longest-task/)

## 16.1 è‡ªå®šä¹‰æ’åºç®—æ³•+äºŒåˆ†

> æ°”ç¬‘æˆ‘ğŸ¤¡ğŸ¤¡ğŸ¤¡

![image-20230525104813517](figures/image-20230525104813517.png)

```c++
class Solution {
public:
    int hardestWorker(int n, vector<vector<int>>& logs) {
        if(logs.size() == 1)    return logs[0][0];

        for(int i = logs.size() - 1; i >= 1; --i)
            logs[i][1] -= logs[i-1][1];
        
        
        sort(logs.begin(), logs.end(), [](vector<int> a, vector<int> b)->bool
        {
            if(a[1] != b[1]) return a[1] > b[1];
            return a[0] < b[0];
        });
        
        return logs[0][0];
    }
};
```

## 16.2 ä¸€æ¬¡éå†

æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```c++
class Solution {
public:
    int hardestWorker(int n, vector<vector<int>>& logs) {
        int max_time = logs[0][1];
        int hardestworker = logs[0][0];
        for(int i = 1; i < logs.size(); ++i)
        {
            if(logs[i][1] - logs[i - 1][1] > max_time) 
            {
                hardestworker = logs[i][0];
                max_time = logs[i][1] - logs[i - 1][1];
            }

            if(logs[i][1] - logs[i - 1][1] == max_time and 
                logs[i][0] < hardestworker) 
            {
                hardestworker = logs[i][0];
            }
        }

        return hardestworker;
    }
};
```

# 17 å¯è¢« K æ•´é™¤çš„æœ€å°æ•´æ•°ï¼ˆ1015ï¼‰

[1015. å¯è¢« K æ•´é™¤çš„æœ€å°æ•´æ•° - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/smallest-integer-divisible-by-k/)

## 17.1 éå†

æ­¤å¤„å†™æ³•å¯ä»¥å‚è€ƒç®—æ³•ä¸€æˆ–äºŒã€‚

å‚è€ƒé“¾æ¥ï¼š[1015. å¯è¢« K æ•´é™¤çš„æœ€å°æ•´æ•° - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/smallest-integer-divisible-by-k/solutions/2263780/san-chong-suan-fa-you-hua-pythonjavacgo-tk4cj/)

![1015-3.png](figures/1683680206-OGDZGf-1015-3.png)

æ—¶é—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œæ¯æ¬¡éƒ½æ˜¯ $mod k$ï¼Œæœ€å¤šæœ‰ $k$ ä¸ªä¸åŒçš„ä½™æ•°ï¼Œå³ $0,1,2,...k-1$ï¼Œæ‰€ä»¥å¾ªç¯æ‰¾ $k$ æ¬¡ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¯´æ˜å‰é¢æœ‰ä½™æ•°é‡å¤å‡ºç°ï¼Œä¼šè¿›å…¥å¾ªç¯èŠ‚ï¼Œä¸€ç›´æ‰¾ä¸‹å»ä¹Ÿä¸ä¼šæ‰¾åˆ°ã€‚

ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šå½“ $k$ ä¸º $2$ æˆ–è€… $5$ çš„å€æ•°æ—¶ï¼Œèƒ½å¤Ÿè¢« $k$ æ•´é™¤çš„æ•°å­—æœ«å°¾ä¸€å®šä¸ä¸º $1$ï¼Œæ‰€ä»¥æ­¤æ—¶ä¸€å®šæ— è§£ã€‚

é‚£ä¹ˆï¼Œå½“ä½™æ•° $resid$ éš  $1$ çš„ä¸ªæ•°å¢åŠ æ—¶ï¼Œæœ€åä¸€å®šä¼šè¿›å…¥å¾ªç¯ï¼Œä½¿æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸¤ä¸ªå¯¹ $k$ åŒä½™çš„ $n$ å’Œ $m$ã€‚å‡è®¾ $n> m$ï¼Œé‚£ä¹ˆä»¥ä¸‹ç­‰å¼ä¸€å®šæˆç«‹ï¼š
$$
\left ( nâˆ’m \right ) â‰¡ 0  \bmod k
$$
$n - m$ å¯ä»¥è¡¨ç¤ºä¸º $11\dots 100 \dots 0$ çš„å½¢å¼ï¼Œå› æ­¤æœ‰ $\left ( 11\dots 100 \dots 0 \right ) â‰¡ 0  \bmod k$ï¼Œå¹¶ä¸”æ­¤æ—¶ $k$ ä¸ä¸º $2$ æˆ– $5$ çš„å€æ•°ï¼Œåˆ™ $k$ ä¸ $10$ æ²¡æœ‰å…¬å› æ•°ï¼Œ $k$ ä¸ $10$ äº’è´¨ï¼Œ$n - m$ æœ«å°¾çš„  $0$ å¯ä»¥é™¤æ‰ï¼Œå› æ­¤  $\left ( 11\dots 100 \dots 0 \right ) â‰¡ 0  \bmod k$ï¼Œæ­¤é—®é¢˜ä¸€å®šæœ‰è§£ã€‚

ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°çš„æš´åŠ›è§£æ³•è‚¯å®šå¦‚ä¸‹ï¼š 

```c++
class Solution {
public:
    int smallestRepunitDivByK(int k) {
        if(k % 2 == 0 or k % 5 == 0)  return -1;

        int len = 1;
        for(int n = 1; n % k != 0; ++len)
        {
            n = n * 10 + 1;
        }

        return len;
    }
};
```

ä½†è€ƒè™‘åˆ° $n$ çš„å€¼å¯èƒ½éå¸¸å¤§ï¼Œä¸èƒ½ç”¨ int æˆ– long long æ¥è¿›è¡Œè¡¨ç¤ºã€‚

å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨æ¯æ¬¡å–ä½™çš„æ–¹æ³•ï¼Œä½¿æ•°å˜å°ï¼Œæ­¤å¤„æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä»¥ä¸‹å…¬å¼ï¼š
$$
(n \times 10 + 1) \bmod k = ((n \bmod k) \times 10 + 1) \bmod k
$$
æˆ‘ä»¬å¯ä»¥ç”¨ $n \bmod k$ æ¥åˆ¤æ–­ $n$ æ˜¯å¦èƒ½è¢« $k$ æ•´é™¤ï¼Œå¹¶ç”¨ $n \bmod k$ çš„ä½™æ•°æ¥é™ä½  $n$ çš„å¤§å°ã€‚

```c++
class Solution {
public:
    int smallestRepunitDivByK(int k) {
        if(k % 2 == 0 or k % 5 == 0)  return -1;        // kä¸º2æˆ–5çš„å€æ•°ï¼Œè‚¯å®šæ— è§£

        int len = 1;
        for(int n = 1; n % k != 0; ++len)   // å–ä½™ç­‰äº0åˆ™ç»“æŸ
        {
            n = n % k;          // ä½™æ•°
            n = n * 10 + 1;     // ä½™æ•° * 10 + 1
        }

        return len;
    }
};
```

# 18 å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)

[8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi) - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/string-to-integer-atoi/description/)

## 18.1 éå†

```c++
class Solution {
public:
    int myAtoi(string s) {
        int n(0), sign(1);

        while(isspace(s[n]))    ++n;

        if(s[n] == '+') ++n;
        else if(s[n] == '-')
        {
            ++n;
            sign = -1;
        }

        int res = 0;
        for(; isdigit(s[n]); ++n)
        {
            int digit = s[n] - '0';

            if (res > (INT_MAX - digit) / 10) 		// åˆ¤æ–­æ•°å­—æ˜¯å¦è¿‡å¤§
            {
                return sign == 1 ? INT_MAX : INT_MIN;
            }
            res *= 10;
            res += digit;

        }

        return sign * res;
    }
};
```

# 19 æ•°é’è›™ï¼ˆ1419ï¼‰

[1419. æ•°é’è›™ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/minimum-number-of-frogs-croaking/)

## 19.1 å“ˆå¸Œè®¡æ•°+æ¨¡æ‹Ÿé¢˜

```c++
class Solution {
public:
    int minNumberOfFrogs(string croakOfFrogs) {
        if (croakOfFrogs.size() % 5 != 0)   return -1;

        int res = 0, frogNum = 0;
        vector<int> cnt(4);
        unordered_map<char, int> mp = {{'c', 0}, {'r', 1}, {'o', 2}, {'a', 3}, {'k', 4}};
        for (char c : croakOfFrogs) 
        {
            int t = mp[c];
            if (t == 0) 
            {
                cnt[t]++;
                frogNum++;
                if (frogNum > res)  res = frogNum;
            } 
            else 
            {
                if (cnt[t - 1] == 0)    return -1;
                cnt[t - 1]--;
                if (t == 4)     frogNum--;
                else    cnt[t]++;
            }
        }
        if (frogNum > 0) return -1;

        return res;
    }
};
```

# 20  æœ€å¤§å­æ•°ç»„å’Œï¼ˆ53ï¼‰

https://leetcode.cn/problems/maximum-subarray/

## 20.1 æš´åŠ›è§£æ³•

```c++
class Solution
{
public:
    int maxSubArray(vector<int> &nums)
    {
        //ç±»ä¼¼å¯»æ‰¾æœ€å¤§æœ€å°å€¼çš„é¢˜ç›®ï¼Œåˆå§‹å€¼ä¸€å®šè¦å®šä¹‰æˆç†è®ºä¸Šçš„æœ€å°æœ€å¤§å€¼
        int result = INT_MIN;
        int numsSize = int(nums.size());

        int sum = nums[0];
        result = nums[0];
        for (int i = 1; i < numsSize; i++)
        {
            sum = max(sum + nums[i], nums[i]);
            result = max(result, sum);
        }

        return result;
    }
};
```

# 21 æ€»æŒç»­æ—¶é—´å¯è¢« 60 æ•´é™¤çš„æ­Œæ›²ï¼ˆ1010ï¼‰

[1010. æ€»æŒç»­æ—¶é—´å¯è¢« 60 æ•´é™¤çš„æ­Œæ›² - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/pairs-of-songs-with-total-durations-divisible-by-60/description/)

## 21.1 ç»„åˆæ•°å­¦

é¢˜è§£ï¼š[1010. æ€»æŒç»­æ—¶é—´å¯è¢« 60 æ•´é™¤çš„æ­Œæ›² - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/pairs-of-songs-with-total-durations-divisible-by-60/solutions/2259343/liang-shu-zhi-he-de-ben-zhi-shi-shi-yao-bd0r1/)

å¤ªä¼˜é›…äº†ã€‚

æ—¶é—´å¤æ‚åº¦ï¼š$\mathcal{O}(n+U)$ï¼Œå…¶ä¸­ $n$ ä¸º $\textit{nums}$ çš„é•¿åº¦ï¼Œ$U=60$ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š$\mathcal{O}(U)$ã€‚

```c++
class Solution {
public:
    int numPairsDivisibleBy60(vector<int> &time) {
        int ans = 0, cnt[60]{};
        for (int t : time) {
            // å…ˆæŸ¥è¯¢ cntï¼Œå†æ›´æ–° cntï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚ i<j
            // å¦‚æœå…ˆæ›´æ–°ï¼Œå†æŸ¥è¯¢ï¼Œå°±æŠŠ i=j çš„æƒ…å†µä¹Ÿè€ƒè™‘è¿›å»äº†
            ans += cnt[(60 - t % 60) % 60];
            cnt[t % 60]++;
        }
        return ans;
    }
};
```

# 22 é•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼ˆ209ï¼‰

[209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/minimum-size-subarray-sum/)

## 22.1 åŒæŒ‡é’ˆ+æ»‘åŠ¨çª—å£

`fast`æŒ‡é’ˆå‘å³æ‰©å±•æ»‘åŠ¨çª—å£ï¼Œ`slow`æŒ‡é’ˆç”¨äºæ”¶ç¼©å·¦ä¾§çª—å£ã€‚

æ—¶é—´å¤æ‚åº¦ï¼š$\mathcal{O} \left (  N\right ) $

ç©ºé—´å¤æ‚åº¦ï¼š$\mathcal{O} \left (  1\right ) $

```c++
class Solution {
public:
    int minSubArrayLen(int target, vector<int>& nums) {
        int slow(0), fast(0), sum(0);
        int res(INT_MAX);
        int size = nums.size();

        while(fast < size)
        {
            sum += nums[fast];
            while(sum - nums[slow] >= target)     sum -= nums[slow++];
            if(sum >= target) res = min(fast - slow + 1, res);
            ++fast;
        }

        return res == INT_MAX ? 0 : res;
    }
};
```

# 23 è·³è·ƒæ¸¸æˆï¼ˆ55ï¼‰

[55. è·³è·ƒæ¸¸æˆ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/jump-game/)

## 23.1 è½¬æ¢é—®é¢˜/åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

1. å¦‚æœæŸä¸€ä¸ªä½œä¸º èµ·è·³ç‚¹ çš„æ ¼å­å¯ä»¥è·³è·ƒçš„è·ç¦»æ˜¯ 3ï¼Œé‚£ä¹ˆè¡¨ç¤ºåé¢ 3 ä¸ªæ ¼å­éƒ½å¯ä»¥ä½œä¸º èµ·è·³ç‚¹
2. å¯ä»¥å¯¹æ¯ä¸€ä¸ªèƒ½ä½œä¸º èµ·è·³ç‚¹ çš„æ ¼å­éƒ½å°è¯•è·³ä¸€æ¬¡ï¼ŒæŠŠ èƒ½è·³åˆ°æœ€è¿œçš„è·ç¦» ä¸æ–­æ›´æ–°
3. å¦‚æœå¯ä»¥ä¸€ç›´è·³åˆ°æœ€åï¼Œå°±æˆåŠŸäº†

æ—¶é—´å¤æ‚åº¦ï¼š$\mathcal{O} \left (  N\right ) $

ç©ºé—´å¤æ‚åº¦ï¼š$\mathcal{O} \left (  1\right ) $

```c++
class Solution {
public:
    bool canJump(vector<int>& nums) {
        int k = 0;
        for (int i = 0; i < nums.size(); i++) {
            if (i > k) return false;
            k = max(k, i + nums[i]);
        }
        return true;
    }
};
```

## 23.2 è´ªå¿ƒ

```c++
class Solution {
public:
    bool canJump(vector<int>& nums) {
        int cover = 0;
        if (nums.size() == 1) return true; // åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå°±æ˜¯èƒ½è¾¾åˆ°
        for (int i = 0; i <= cover; i++) { // æ³¨æ„è¿™é‡Œæ˜¯å°äºç­‰äºcover
            cover = max(i + nums[i], cover);
            if (cover >= nums.size() - 1) return true; // è¯´æ˜å¯ä»¥è¦†ç›–åˆ°ç»ˆç‚¹äº†
        }
        return false;
    }
};
```

# 24 äºŒåˆ†æŸ¥æ‰¾ï¼ˆ704ï¼‰

[704. äºŒåˆ†æŸ¥æ‰¾ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/binary-search/description/)

## 24.1 äºŒåˆ†æŸ¥æ‰¾

äºŒåˆ†æŸ¥æ‰¾å±äºç»å…¸çš„ç®—æ³•ï¼Œä½†æ˜¯æƒ³è¦å®Œå…¨å†™å¯¹ï¼ˆè¿™é‡ŒæŒ‡çš„ä¸æ˜¯æ•´å‹æº¢å‡ºçš„é—®é¢˜ï¼‰ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾ï¼Œå®é™…ä¸Šè¿˜æ˜¯éœ€è¦ä¸€å®šçš„åŸºæœ¬åŠŸçš„ã€‚å¦‚æœä½ æ²¡æœ‰çœŸæ­£çš„ç†è§£äºŒåˆ†æŸ¥æ‰¾ï¼Œä½ å¯èƒ½å°±ä¼šå‘ç°ä½ çš„äºŒåˆ†æŸ¥æ‰¾ç¨‹åºåœ¨å¤„ç†è¾¹ç•Œæ¡ä»¶ä¸Šæ€»æ˜¯å‡ºé—®é¢˜ï¼Œ ä¾‹å¦‚ `<` è¿˜æ˜¯ `=<` ï¼Œç”¨ä¸ç”¨ `+1`, æ€»æ˜¯ä¼šæé”™ã€‚

å®é™…ä¸Šï¼Œ ä½ ä¹‹æ‰€ä»¥åœ¨è¿™äº›è¾¹ç•Œæ¡ä»¶ä¸ŠçŠ¯é”™è¯¯ï¼Œ å°±æ˜¯æ²¡æœ‰çœŸæ­£çš„å®šä¹‰æ¸…æ¥šç¨‹åºä¸­çš„æ¯ä¸€ä¸ªå˜é‡ã€‚ å¯¹äºäºŒåˆ†æŸ¥æ‰¾ï¼Œ æœ€é‡è¦çš„å°±æ˜¯è¦å¼„æ¸…æ¥š `r`, `l` è¿™ä¸¤ä¸ªåˆ†åˆ«æŒ‡å‘ `nums` å·¦å³ä¸¤è¾¹çš„ç´¢å¼•çš„å®šä¹‰ã€‚

```c++
// å¸¸è§„å†™æ³• 1
class Solution {
public:
    int search(vector<int>& nums, int target) {
        int l = 0, r = nums.size();
        while(l < r)
        {
            int m = (r + l) / 2;
            if(nums[m] < target)
            {
                l = m + 1;
                continue;
            }
            if(nums[m] > target)
            {
                r = m;
                continue;
            }
            return m;
        }

        return -1;
    }
};

// å¸¸è§„å†™æ³•2
class Solution {
public:
    int search(vector<int>& nums, int target) {
        int l = 0, r = nums.size() - 1;
        while(l <= r)
        {
            int m = (r + l) / 2;
            if(nums[m] < target)
            {
                l = m + 1;
                continue;
            }
            if(nums[m] > target)
            {
                r = m - 1;
                continue;
            }
            return m;
        }

        return -1;
    }
};
```

è§‚å¯Ÿä¸Šé¢ä»£ç çš„å¼‚åŒå¤„ï¼Œä¸»è¦å­˜åœ¨äº 3 ä¸ªåœ°æ–¹å³ï¼š **`r` çš„åˆå§‹å€¼** ï¼Œ **å¾ªç¯æ¡ä»¶**ï¼Œ **ä»¥åŠæŸ¥æ‰¾è¾¹ç•Œ `r` çš„ç§»åŠ¨è§„åˆ™**, ä¹‹æ‰€ä»¥ä¼šåœ¨è¿™ä¸‰ä¸ªåœ°æ–¹æœ‰å·®åˆ«ï¼Œ æœ€ä¸»è¦çš„åŸå› å°±æ˜¯å› ä¸º `r` çš„å®šä¹‰ï¼š

å¸¸è§„å†™æ³• 1 ä¸­ `l` å’Œ `r` æ‰€å®šä¹‰çš„å‡ºçš„æ•°ç»„èŒƒå›´ä¸º `[l, r)`ï¼Œ æ˜¯ **å·¦é—­å³å¼€** çš„ã€‚ä¹Ÿå°±æ˜¯åœ¨åç»­çš„å¾ªç¯ä¸­ï¼Œ **`r` æ‰€æŒ‡å‘çš„ä½ç½®æ˜¯ ä¸è¢« åŒ…æ‹¬åœ¨å¾ªç¯ä»¥å†…çš„**ï¼Œ `r` æ‰€ä»£è¡¨çš„ä½ç½®å®é™…ä¸Šæ˜¯è¦æŸ¥æ‰¾çš„æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„åä¸€ä¸ªå…ƒç´ ã€‚

1. å› ä¸ºæ˜¯ **å·¦é—­å³å¼€** çš„ `r` åˆå€¼ä¸º `nums.size() `ï¼Œå› ä¸ºæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º `nums[nums.size() - 1]`, æ ¹æ® `r` å®šä¹‰æœ€åä¸€ä¸ªå…ƒç´ çš„åä¸€ä¸ªå…ƒç´ å³ä¸º `r = nums.size();`

2. å› ä¸ºæ˜¯ **å·¦é—­å³å¼€** çš„å¾ªç¯ç»“æŸæ¡ä»¶çš„åˆ¤æ–­ä¸­ä¸º `while(l < r)` å› ä¸ºå¯¹äºå·¦é—­å³å¼€çš„åŒºé—´ `[2, 2)` è¿™ç§æ•°å€¼æ˜¯æ— æ„ä¹‰çš„ï¼Œ æ‰€ä»¥å½“ `r = l` çš„æ—¶å€™ï¼Œ å°±è¯¥ç»“æŸå¾ªç¯äº†ï¼Œ æ‰€ä»¥åªæœ‰åœ¨ `l < r` æ‰ç»§ç»­å¾ªç¯ï¼›
3. å› ä¸ºæ˜¯ **å·¦é—­å³å¼€** çš„ `r` çš„ç§»åŠ¨è§„åˆ™ä¸º `r = m` ï¼Œå› ä¸ºå½“å‰å¾ªç¯æŸ¥æ‰¾çš„ä¸ºç´¢å¼•ä¸º `m` ä½ç½®çš„å…ƒç´ (å³ï¼šï¼ˆ`nums[m] == target`ï¼‰)ï¼Œ ä¸‹ä¸€æ¬¡åº”è¯¥å°†æŸ¥æ‰¾èŒƒå›´çš„å³è¾¹ç•Œè®¾ç½®ä¸º `m` ä½ç½®çš„å‰ä¸€ä¸ªå…ƒç´ ï¼ˆ`[l, m - 1]`ï¼‰ï¼Œ å› ä¸º `r` æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„åä¸€ä¸ªå…ƒç´ ï¼Œ å½“ `r = m` ï¼Œ ä¸‹æ¬¡çš„æŸ¥æ‰¾èŒƒå›´å°±ä¸º `[l, r)`å³ `[l, m - 1]`

------

å¸¸è§„å†™æ³• 2 ä¸­ `l` å’Œ `r` çš„å®šä¹‰çš„èŒƒå›´ä¸º `[l, r]`ï¼Œæ˜¯ å·¦é—­å³é—­ çš„ä¹Ÿå°±æ˜¯åœ¨åç»­çš„å¾ªç¯ä¸­ï¼Œ `r` æ‰€æŒ‡å‘çš„ä½ç½®æ˜¯ è¢« åŒ…æ‹¬åœ¨å¾ªç¯ä»¥å†…çš„ï¼Œ `r` æ‰€ä»£è¡¨çš„ä½ç½®å®é™…ä¸Šæ˜¯è¦æŸ¥æ‰¾çš„æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚

1. å› ä¸ºæ˜¯ **å·¦é—­å³é—­** çš„ `r` åˆå€¼åº”ä¸º `nums.size() - 1` ï¼Œå› ä¸ºæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º `nums[nums.size() - 1]`, æ ¹æ® `r` å®šä¹‰ æœ€åä¸€ä¸ªå…ƒç´  å³ä¸º `r = nums.size() - 1;`
2. å› ä¸ºæ˜¯ **å·¦é—­å³é—­** å¾ªç¯ç»“æŸæ¡ä»¶çš„åˆ¤æ–­ä¸­ä¸º `while(l < r)` ï¼Œå› ä¸ºå¯¹äºå·¦é—­å³é—­çš„åŒºé—´ `[2, 2]` è¿™ç§æ•°å€¼æ˜¯æœ‰æ„ä¹‰çš„ï¼ˆåŒ…å«å…ƒç´  2ï¼‰ï¼Œ æ‰€ä»¥å½“ `r = l` çš„æ—¶å€™ï¼Œ è¿˜æœ‰ä¸€ä¸ªå…ƒç´ åº”è¯¥å»æŸ¥æ‰¾ï¼Œ æ‰€ä»¥ `l <= r` ç»§ç»­å¾ªç¯
3. å› ä¸ºæ˜¯ **å·¦é—­å³é—­** `r` çš„ç§»åŠ¨è§„åˆ™ä¸º `r = m - 1` ï¼Œå› ä¸ºå½“å‰å¾ªç¯è¢«æŸ¥æ‰¾çš„ä¸ºç´¢å¼•ä¸º m ä½ç½®çš„å…ƒç´ (å³ï¼šï¼ˆ`nums[m] == target`ï¼‰) ï¼Œ ä¸‹ä¸€æ¬¡åº”è¯¥å°†æŸ¥æ‰¾èŒƒå›´çš„å³è¾¹ç•Œè®¾ç½®ä¸º `m` ä½ç½®çš„å‰ä¸€ä¸ªå…ƒç´ ï¼ˆ`[l, m - 1]`ï¼‰ï¼Œ å› ä¸º `r` æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´  , æ‰€ä»¥è®© `r = m - 1` ï¼Œ ä¸‹æ¬¡çš„æŸ¥æ‰¾èŒƒå°±ä¸º `[l, r - 1]` å³ `[l, m - 1]`

è¿™ä¸¤ç§å†™æ³•çš„åŒºåˆ«å°±åœ¨äº `r` çš„å®šä¹‰ï¼Œ ä¸€ç§æ˜¯æŒ‡å‘è¦æŸ¥æ‰¾æ•°ç»„çš„å³è¾¹ç•Œå…ƒç´ çš„åä¸€ä¸ªå…ƒç´ ï¼ˆå¸¸è§„è§£æ³• 1ï¼‰ï¼Œ ä¸€ç§å°±æ˜¯æŒ‡å‘è¦æŸ¥æ‰¾çš„æ•°ç»„çš„å³è¾¹ç•Œå…ƒç´ ï¼ˆå¸¸è§„è§£æ³• 2ï¼‰ï¼Œ æ¯æ¬¡å¾ªç¯ä¸­ `l` å’Œ `r` å…±åŒçº¦æŸäº†æœ¬æ¬¡æŸ¥æ‰¾çš„èŒƒå›´ï¼Œ è¦è®©æœ¬æ¬¡å¾ªç¯ä¸ä¸Šä¸€æ¬¡å¾ªç¯æŸ¥æ‰¾çš„èŒƒå›´æ—¢ä¸é‡å¤(é‡å¤äº†ä¼šå¼•èµ·æ­»å¾ªç¯)ï¼Œ ä¹Ÿä¸é—æ¼ï¼Œ å¹¶ä¸”è¦è®© `l` å’Œ `r` å…±åŒçº¦æŸçš„æŸ¥æ‰¾çš„èŒƒå›´å˜å¾—æ— æ„ä¹‰æ—¶ä¸å†è¿›è¡ŒæŸ¥æ‰¾ï¼ˆå³è·³å‡º `while`ï¼‰(å¦åˆ™ä¼šå¯¼è‡´è®¿é—®è¶Šç•Œ)ï¼Œ è¿™å…¶å®å°±æ˜¯æ‰€è°“çš„å¾ªç¯ä¸å˜é‡ã€‚å½’æ ¹ç»“åº•å°±æ˜¯è¦æ˜ç¡®ä½ æ‰€è®¾ç½®çš„å˜é‡çš„å…·ä½“å«ä¹‰ï¼Œ ç©¶ç«Ÿæ˜¯å¼€åŒºé—´ï¼Œ è¿˜æ˜¯é—­åŒºé—´ï¼Œ è®©æ¯ä¸€æ¬¡å¾ªç¯å˜å¾—æœ‰æ„ä¹‰ï¼Œ å¾ˆå¤šè¾¹ç•Œé—®é¢˜å®é™…ä¸Šå°±æ˜¯æ²¡æœ‰ææ¸…æ¥šå˜é‡çš„å…·ä½“å«æœ‰è€Œé€ æˆçš„ã€‚

# 25 ç§»åŠ¨é›¶ï¼ˆ283ï¼‰

[283. ç§»åŠ¨é›¶ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/move-zeroes/description/)

## 25.1 åŒæŒ‡é’ˆ

```c++
class Solution {
public:
    void moveZeroes(vector<int>& nums) {
        for(int i = 0; i < nums.size(); ++i)
        {
            if(nums[i] != 0) continue;
            int loc = i;
            for(int j = i + 1; j < nums.size(); ++j)
            {
                if(nums[j] == 0)    continue;
                swap(nums[loc], nums[j]);
                loc = j;
            }
        }
    }
};
```

## 25.2 å¿«æ…¢æŒ‡é’ˆ

```c++
void moveZeroes(int* nums, int numsSize){
    int fast = 0, slow = 0;
    for(fast = 0;fast<numsSize;fast++){
        if(nums[fast]!=0){
            nums[slow++] = nums[fast];
        }
    }
    for(;slow<numsSize;slow++){
        nums[slow] = 0;
    }
}
```

### 3.24.3 æœ€ç®€å†™æ³•

```c++
class Solution {
public:
    void moveZeroes(vector<int>& nums) {
        int i = 0;
        for(int& x : nums)
            if(x) swap(x, nums[i++]);
    }
};
```

# 26 ç››æœ€å¤šæ°´çš„å®¹å™¨ï¼ˆ11ï¼‰

[11. ç››æœ€å¤šæ°´çš„å®¹å™¨ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/container-with-most-water/)

## 26.1 åŒæŒ‡é’ˆ

ä½¿ç”¨äº†ç¼©å‡ç©ºé—´çš„æ€æƒ³ï¼Œé¢˜è§£ï¼š[11. ç››æœ€å¤šæ°´çš„å®¹å™¨ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/container-with-most-water/solutions/94102/on-shuang-zhi-zhen-jie-fa-li-jie-zheng-que-xing-tu/)

![search-space-shrink](figures/48fa92510ccbc963d7e49da6a2d7302ebf42233345522a42df435df18bc42fa4.gif)

```c++
class Solution {
public:
    int maxArea(vector<int>& height) {
        int l(0), r(height.size() - 1);
        int res(0);

        while(l < r)
        {
            int area = (r - l) * min(height[r], height[l]);
            res = max(res, area);
            if(height[l] < height[r])   ++l;
            else    --r;
        }

        return res;
    }
};
```

# 27 åˆ¤æ–­ä¸¤ä¸ªäº‹ä»¶æ˜¯å¦å­˜åœ¨å†²çªï¼ˆ2446ï¼‰

[2446. åˆ¤æ–­ä¸¤ä¸ªäº‹ä»¶æ˜¯å¦å­˜åœ¨å†²çª - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/determine-if-two-events-have-conflict/)

## 27.1 å­—ç¬¦ä¸²ç›´æ¥æ¯”è¾ƒ

> C++çš„å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥æ¯”è¾ƒå¤§å°ã€‚

```c++
class Solution {
public:
    bool haveConflict(vector<string> &event1, vector<string> &event2) {
        return event1[0] <= event2[1] && event1[1] >= event2[0];
    }
};
```

# 28 x çš„å¹³æ–¹æ ¹ï¼ˆ69ï¼‰

[69. x çš„å¹³æ–¹æ ¹ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/sqrtx/)

## 28.1 äºŒåˆ†æ³•

```c++
class Solution {
public:
    int mySqrt(int x) {
        int i = 0, j = x / 2 + 1;
        while(i <= j)
        {
            long mid = (i + j) / 2;
            long res = mid * mid;
            if(res == x)    return mid;
            else if (res < x)   i = mid + 1;
            else j = mid - 1;
        }

        return j;
    }
};

// æ¢ä¸ªå†™æ³•
class Solution {
public:
    int mySqrt(int x) {
        if(x <= 1)  return x;

        long l = 1, r = x;
        while(l < r)
        {
            long mid = (l + r) / 2;
            if(x / mid == mid)  return mid;
            else if(x / mid > mid)  l = mid + 1;
            else r = mid;
        }

        return l - 1;
    }
};
```

## 28.2 ç‰›é¡¿è¿­ä»£æ³•

```c++
class Solution {
public:
    int mySqrt(int x) {
        if (x == 0) {
            return 0;
        }

        double C = x, x0 = x;
        while (true) {
            double xi = 0.5 * (x0 + C / x0);
            if (fabs(x0 - xi) < 1e-7) {
                break;
            }
            x0 = xi;
        }
        return int(x0);
    }
};
```

# 29 äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„æœ€çŸ­è·¯å¾„ï¼ˆ1091ï¼‰

[1091. äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„æœ€çŸ­è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/shortest-path-in-binary-matrix/)

## 29.1 BFS

æ±‚æœ€çŸ­è·¯å¾„é€šå¸¸ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå¯ä»¥ç”¨é˜Ÿåˆ—å®ç°ã€‚

ä»ä¸‹æ ‡ `[0,0]` å¼€å§‹éå†ï¼Œæ¯æ¬¡å¯»æ‰¾è¯¥ç‚¹çš„å…«ä¸ªæ–¹å‘æ˜¯å¦å¯èµ°ï¼Œè‹¥å¯èµ°å°±å…¥é˜Ÿï¼Œç»§ç»­æ‰§è¡Œè¯¥æ“ä½œï¼Œæœ€åèµ°åˆ° `[n-1,n-1]` æ—¶ï¼Œæ­¤æ—¶æ‰§è¡Œæœ€å¤–å±‚å¾ªç¯çš„æ¬¡æ•°ä¾¿æ˜¯æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚ï¼ˆç±»ä¼¼äºŒå‰æ ‘çš„å±‚åºéå†ï¼‰

```c++
class Solution {
public:
    int shortestPathBinaryMatrix(vector<vector<int>>& grid) {
        if(grid[0][0]==1)	return -1;
        int n=grid.size(),ans=1;
        const int dire[8][2]={{1,0},{-1,0},{0,1},{0,-1},{1,1},{1,-1},{-1,-1},{-1,1}};
        queue<pair<int,int> > q;
        q.emplace(0,0);         //ä»0,0å¼€å§‹
        grid[0][0]=1;           //æ ‡è®°ä¸º1ä»£è¡¨èµ°è¿‡
        while(!q.empty()){      //bfs
            int m=q.size();
            while(m--){
                auto [x,y]=q.front();
                q.pop();
                if(x==n-1&&y==n-1)return ans;
                for(int i=0;i<8;i++){                       //éå†å…«ä¸ªæ–¹å‘çš„
                    int nx=x+dire[i][0];
                    int ny=y+dire[i][1];
                    if(nx<0||ny<0||nx>=n||ny>=n)continue;   //åˆ¤æ–­æ˜¯å¦è¶Šç•Œ
                    if(grid[nx][ny]==0){        //åˆ¤æ–­æ˜¯å¦èƒ½èµ°
                        q.emplace(nx,ny);
                        grid[nx][ny]=1;         //æ ‡è®°
                    }
                }
            }
            ans++;          //è®°å½•å¾ªç¯æ¬¡æ•°
        }
        return -1;
    }
};
```

